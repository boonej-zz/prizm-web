form
  input#userID(type='hidden' value='#{currentUser._id}')
  ul
    if (currentUser.type == 'institution_verified')
      - var founded = currentUser.date_founded?new Date(currentUser.date_founded):false
      - var foundedString = founded?founded.getFullYear() + '-' + (founded.getMonth() + 1) + '-' + founded.getDate():false
      li
        label(for='name') Name
        input#name(type='text' 
        name='name' 
        value='#{currentUser.name || ""}' 
        required='required')
      li
        label(for='info') Info
        input#info(type='textarea' name='info' value='#{currentUser.info || ""}')
      li
        label(for='website') Website
        input#website(type='url' name='website' value='#{currentUser.website || ""}'
        )
      li
        label(for='founded') Date Founded
        input#founded(
        type='date'
        name='date_founded' 
        value='#{foundedString || ""}'
        placeholder='yyyy-mm-dd')
      li
        label(for='mascot') Mascot
        input#mascot(type='text' name='mascot' value='#{currentUser.mascot || ""}')
      li
        label(for='population') Population
        input#population(type='text' name='enrollment' value='#{currentUser.enrollment || ""}')
      li
        label(for='email') Email
        input#email(type='email' 
        name='email' 
        value='#{currentUser.email || ""}'
        required='required')
      li
        label(for='zip') Zip Code
        input#zip(type='number' name='zip_postal' value='#{currentUser.zip_postal || ""}')
      li
        label(for='phone') Phone Number
        input#phone(type='tel' name='phone_number' value='#{currentUser.phone_number || ""}')
    else
      - var birthday = currentUser.birthday.split('-')
      - var formattedBirthday = birthday.length == 3?[birthday[2], birthday[0], birthday[1]]:[]
      - var bdayString = formattedBirthday.join('-')
      - var dateNow = new Date()
      - var earliestDate = new Date(dateNow.getFullYear() - 13, dateNow.getMonth(), dateNow.getDate())
      - var birthdayLimit = earliestDate.getFullYear() + '-' + (earliestDate.getMonth() + 1) + '-' + earliestDate.getDate()
      li
        label(for='first') First Name
        input#first(type='text' 
        name='first_name' 
        value='#{currentUser.first_name || ""}'
        required='required')
      li
        label(for='last') Last Name
        input#last(type='text' 
        name='last_name' 
        value='#{currentUser.last_name || ""}'
        required='required')
      li
        label(for='info') Info
        textarea#info(name='info' value='#{currentUser.info || ""}')
      li
        label(for='website') Website
        input#website(type='url' name='website' value='#{currentUser.website || ""}')
      li
        label(for='email') Email
        input#email(type='email' 
        name='email' 
        value='#{currentUser.email || ""}'
        required='required')
      li  
        label(for='birthday') Date of Birth
        input#month(type='date' 
        name='birthday' 
        value='#{bdayString || ""}'
        placeholder='yyyy-mm-dd'
        max='#{birthdayLimit}'
        required='required')
      li
        label(for='zip') Zip Code
        input#zip(type='number' name='zip_postal' value='#{currentUser.zip_postal || ""}')
      li
        label(for='phone') Phone Number
        input#phone(type='tel' name='phone_number' value='#{currentUser.phone_number || ""}')
      li
        label(for='code') Program Code
        input#code(type='text' name='program_code' value='#{currentUser.program_code || ""}')
      li
        label(for='ethnicity') Ethnicity
        input#ethnicity(type='text' name='ethnicity' value='#{currentUser.ethnicity || ""}')
      li
        label(for='religion') Religion
        input#religion(type='text' name='religion' value='#{currentUser.religion || ""}')
      input#avatar(type='file' name='avatar' accept='image/*' onchange='profile.uploadAvatar(event)')
  button.save Submit
  button.cancel(type='button' onclick='profile.cancelEdit()') Cancel
